@model string
@{
    ViewBag.Title = "Purchases History";
}
<script>
    var app = angular.module("myapp", []);
    app.controller("MyController", function ($scope, $http) {
        $http.get("/api/Users/@Model").then(function (result) {
            $scope.myData = result.data;
        });

        $scope.getOrderBy = function (x) {
            $scope.currentorder = x;
        }
    });

    $(function () {
        $("th:first-child").trigger("click");
    });
</script>
<!-- breadcrumbs -->
<div class="breadcrumbs">
    <div class="container">
        <ol class="breadcrumb breadcrumb1 animated wow slideInLeft" data-wow-delay=".5s">
            <li><span class="glyphicon glyphicon-home" aria-hidden="true"></span>@Html.ActionLink("Home", "Index", "Home")</li>
            <li class="active">@ViewBag.Title</li>
        </ol>
    </div>
</div>
<!-- //breadcrumbs -->
<div class="products">
    <div id="historyTableContainer" class="container" ng-app="myapp">
        <h3>Purchases History</h3>
        <table id="historyTable" class="table table-hover" ng-controller="MyController">
            <tr>
                <th ng-click="getOrderBy('NumOfItems')">Number Of Items</th>
                <th ng-click="getOrderBy('TotalPrice')">Total Price</th>
                <th ng-click="getOrderBy('Date')">Date and Time</th>
            </tr>
            <tr ng-repeat="t in myData | filter : teamname | orderBy : currentorder">
                <td>{{ t.NumOfItems }}</td>
                <td>{{ t.TotalPrice }}</td>
                <td>{{ t.Date }}</td>
            </tr>
        </table>
    </div>
</div>